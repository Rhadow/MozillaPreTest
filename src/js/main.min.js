!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="/Users/HowardChang/Documents/Web development/Projects/MozillaPreTest",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var a=n(2),u=o(a),r=n(1),l=o(r),d=function(e){var t=Object.keys(e),n=[];t.forEach(function(t){var o=e[t].map(function(e){return e.city});n=n.concat(o)}),N(n.sort())},c=function(e){console.log("Error State: "+e+", fetch tz.json failed!"),N([])},s=function(){var e=document.querySelectorAll("li");Array.prototype.forEach.call(e,function(e,t){0===t&&u["default"].addClass(e,"selected"),u["default"].addEvent(e,"mouseover",function(e){u["default"].removeClass(document.querySelector(".selected"),"selected"),u["default"].addClass(e.target,"selected")}),u["default"].addEvent(e,"click",v)})},i=function(){var e=document.querySelectorAll(".remove");Array.prototype.forEach.call(e,function(e){u["default"].addEvent(e,"click",function(e){var t=e.target.parentNode;e.target.parentNode.parentNode&&e.target.parentNode.parentNode.removeChild(t)})})},f=function(e,t,n){window.setTimeout(function(){var o=void 0,a=document.querySelector(".suggestions");if(u["default"].hasClass(a,"hide")||n.keyCode!==l["default"].UP&&n.keyCode!==l["default"].DOWN&&n.keyCode!==l["default"].ENTER)o=g(e.value,t),E(a,o),s();else switch(n.keyCode){case l["default"].UP:m(l["default"].PREVIOUS),n.preventDefault();break;case l["default"].DOWN:m(l["default"].NEXT),n.preventDefault();break;default:var r=document.querySelector(".selected").textContent;p(r)}})},m=function(e){var t=document.querySelector(".selected"),n=document.querySelectorAll(".suggestion-item"),o=document.querySelector(".suggestions");e===l["default"].PREVIOUS&&t!==n[0]&&(u["default"].removeClass(t,"selected"),u["default"].addClass(t.previousSibling,"selected"),h(t.previousSibling,o,l["default"].PREVIOUS)),e===l["default"].NEXT&&t!==n[n.length-1]&&(u["default"].removeClass(t,"selected"),u["default"].addClass(t.nextSibling,"selected"),h(t.nextSibling,o,l["default"].NEXT))},p=function(e){var t=document.querySelector(".tag-input"),n=u["default"].createTagElement(e),o=Array.prototype.some.call(document.querySelectorAll(".tag"),function(t){return t.textContent.slice(0,-1)===e});o||t.parentNode.insertBefore(n,t),document.querySelector(".tag-input").value="",u["default"].addClass(document.querySelector(".suggestions"),"hide"),i()},v=function(e){p(e.target.textContent)},g=function(e,t){e=e.indexOf("\\")>=0?"":e;var n=new RegExp("^"+e,"i"),o=t.filter(function(e){return n.test(e)});return o=o.length===t.length?[]:o},E=function(e,t){var n=document.querySelector(".tag-input"),o=n.getBoundingClientRect().top,a=n.getBoundingClientRect().left;e.style.top=""+(o+l["default"].TOP_OFFSET)+"px",e.style.left=""+(a-l["default"].LEFT_OFFSET)+"px",u["default"].removeAllChildNodes(e),t.forEach(function(t){e.appendChild(u["default"].createListElement(t))}),u["default"].removeClass(e,"hide"),e.scrollTop=0,0===t.length&&u["default"].addClass(e,"hide")},h=function(e,t,n){var o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),u=o.top+o.height,r=a.top+a.height>u,d=a.top<o.top;n===l["default"].NEXT&&r&&(t.scrollTop+=a.height),n===l["default"].PREVIOUS&&d&&(t.scrollTop-=a.height)},y=function(e,t,n){var o=document.querySelectorAll(".tag"),a=(document.querySelector(".result"),!1),u=[];Array.prototype.forEach.call(o,function(e){u.push(e.textContent.slice(0,-1))}),t.forEach(function(t){(e.value===t||""===e.value)&&(a=!0)}),a?C(u):S()},C=function(e){var t=JSON.stringify(e,null,4);u["default"].addClass(document.querySelector(".warning"),"hide"),document.querySelector(".result").textContent=t},S=function(){u["default"].removeClass(document.querySelector(".warning"),"hide")},N=function(e){var t=document.querySelector(".tag-input"),n=document.querySelector(".submit-button"),o=document.querySelector(".auto-complete-wrapper"),a=function(n){f(t,e,n)},r=function(n){y(t,e,n)};u["default"].addEvent(t,"keydown",a),u["default"].addEvent(t,"blur",function(e){u["default"].addClass(document.querySelector(".suggestions"),"hide")}),u["default"].addEvent(n,"click",r),u["default"].addEvent(o,"click",function(e){t.focus()})};u["default"].getJSONFrom("./src/assets/tz.json",d,c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={ENTER:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,PREVIOUS:"PREVIOUS",NEXT:"NEXT",TOP_OFFSET:36,LEFT_OFFSET:8};t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={addClass:function(e){var t=void 0===arguments[1]?"":arguments[1],n=e.className.split(" ").concat(t.split(" ")),o=[];n.forEach(function(e){o.indexOf(e)<0&&o.push(e)}),e.className=o.join(" ")},removeClass:function(e){var t=void 0===arguments[1]?"":arguments[1],n=e.className.split(" "),o=t.split(" "),a=void 0;a=n.filter(function(e){return o.every(function(t){return e!==t})}).join(" "),e.className=a},hasClass:function(e){var t=void 0===arguments[1]?"":arguments[1];return e.className.split(" ").indexOf(t)>=0},getJSONFrom:function(e){var t=void 0===arguments[1]?function(){}:arguments[1],n=void 0===arguments[2]?function(){}:arguments[2],o=new XMLHttpRequest;o.open("get",e),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){200===o.status?t(JSON.parse(o.response)):n(JSON.parse(o.response))},o.send()},addEvent:function(e,t,n){"undefined"!=typeof e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},createListElement:function(e){var t=document.createElement("li"),n=document.createTextNode(e);return t.className="suggestion-item",t.appendChild(n),t},createTagElement:function(e){var t=document.createElement("span"),n=document.createTextNode(e),o=document.createElement("span"),a=document.createTextNode("x");return o.appendChild(a),t.className="tag",o.className="remove",t.appendChild(n),t.appendChild(o),t},removeAllChildNodes:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}};t["default"]=o,e.exports=t["default"]}]);
